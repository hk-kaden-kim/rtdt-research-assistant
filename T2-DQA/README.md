# Data Quality Assessment for Structure Health Monitoring of Wind Turbine 


## Why does Data Quality Assessment matter in Wind Turbin Health Monitoring?
Sensor data quality plays an important role in the algorithm of Wind Turbine Health monitoring. However, when being deployed over extended time periods, sensors are increasingly exposed to harsh environmental condition, such as ageing, degradation, detachment, and so on. Therefore, before using the data into the training of SHM algorithm, measuring the data quality is required and it can be utilized as a further decision making.

    ├── 2-DQA
    │   ├── 1-DataPrep.ipynb
    |   ├── 2-ModelTraining.ipynb
    |   ├── 3-Evaluation.ipynb
    |   ├── DataUtility.py
    |   ├── ModelUtility.py
    |   ├── Constants.py

## What data are used for where?
| Category   | Data                         | Used for                     | Window                           | Notes         |
|------------|------------------------------|------------------------------|----------------------------------|---------------|
| SHM Sensor | Accelerometer data           | OMA[1], PSA[2], SPTARMA[3],  | 10 min                           |  |
| SHM Sensor | Strainguage data             | DEQL[4], TRMF[5]             | 10 min                           |               |
| SCADA      | Rotor speed RPM              | Bin for the model output     | Same with the model input window |               |
| SCADA      | Wind speed                   | Bin for the model output     | Same with the model input window |               |
| SCADA      | Nacelle position (yaw angle) | Bin for the model output     | Same with the model input window |               |
| SCADA      | Generated Power              | Performance measurement      | Same with the model input window |               |
<!--- https://www.tablesgenerator.com/markdown_tables --->

__General SHM algorithm__
1. [OMA](https://github.com/RTDT-LABORATORIES/Algorithms-Development/tree/main/src/oma) (Operational Modal Analysis)
    
    : Acc + Scada(RPM, Wind Speed)  -> Eigen value and Eigen vector

2. [PSA](https://github.com/RTDT-LABORATORIES/Algorithms-Development/tree/main/src/psa) (Spectral energy analysis) 

    : Any of (Acc, Str, Inc) + Scada -> Energy value (contained in the signal)
3. [SPTARMA](https://www.researchgate.net/publication/269391599_UKF_Estimation_of_SP-TARMA_Models_for_the_Identification_of_Time-Varying_Structures) (Smothness priors Time-dependent Autoregressive model)
4. [DEQL](https://github.com/RTDT-LABORATORIES/Algorithms-Development/tree/main/src/deql) (Damage Equivalent Loads)

    : Str + Scada -> Estimated load cycle.

5. [TRMF](https://github.com/RTDT-LABORATORIES/Algorithms-Development/tree/main/src/trmf) (Transmissibility models)

    : Acc + Str + Scada -> Model parameter 

*For now, we use 10min time window data for these algorithms.


## What types of data fault expected?
<!-- update the github repo
the readme of the Signal Quality Check.
- the list of all the quality check models that are being implemented and their references.-->
|        **_Delay_**        | **_Offset-Sporadic_** | **_Offset-Permanent_** | **_Offset-stochastic_** | **_Stuck-at_** |
|:-------------------------:|:---------------------:|:----------------------:|:-----------------------:|:--------------:|
|        1. constant        |       2. [outlier](./DataUtility.py#L216)      |       3. [constant](./DataUtility.py#L253)      |       4. [constant](./DataUtility.py#L260)       |   5. [at zero](./DataUtility.py#L271)   |
|        6. variable        |        7. spike       |   8. value correlated  |   9. value correlated   |    10. at X    |
| 11. omiisions/broken link |                       |   12. time correlated  |   13. time correleated  | 14. saturation |                                   |

### Others

‣ __Coherence__ to check the linear correlation between two axis frequencies.

‣ __Sensor displacement detection (ODS)__ to check the position changes of sensors.

‣ __Power Curve Analysis__ to check operational fault in Wind Turbine.



## How to assess the Data Quality for SHM of Wind Turbine?

__Statistical generative models__ 

Statistical generative models are probabilistic models that attempt to describe how data is generated by learning the statistical distribution of the dataset. Examples of statistical generative models used in the paper are the Gaussian model, Hidden Markov model, and Histogram.

- Gaussian Mixtual Model ([Implemented Here!](./ModelUtility.py#L29))

### Others

‣ __Principal component analysis (PCA)__

Principal component analysis (PCA) is commonly used to fnd patterns in the data i.e. the correlation between variables, by gener- ating orthogonal principal components. Terefore, other than being used as a feature reduction technique, PCA can also be used for fault detection.

‣ __Artifcial neural network__

An artifcial neural network (ANN) is a framework that is vaguely modelled upon the biological neural network of a brain. Along with PCA, ANN is also another common technique for fault detection and it also has multiple variations such as TDNN, AANN and HTM.

‣ __SQI__

Signal Quality Index. A quantitative measure of quality.



## Future work

For Item. ‘Outlier detection’

1. Training Phase: Reference information for normal operation of WT and consider it as a static reference. For example, split train(reference)/val/test by one month and then extract the reference values, such as global mean and global std. It can be used in Outlier Detection In other words, fit the statistic reference value into this train dataset.

2. Group by each bin of Scada: Operation variance(e.g. Power), Environmental variance(e.g. Wind Speed).Create bin for it and analysis in the same bin to generate global value. At least montly. Power curve is characteristics of Turbine.

In General.

1. Online update for Large dataset: Training period

## Contacts
Kim, Hyeongkyun - [@hk-kaden-kim](https://github.com/hk-kaden-kim) - hyeongkyun.kim@uzh.ch

Abdallah, Imad - [@IAbda](https://github.com/IAbda) - abdallah@ibk.baug.ethz.ch


## Reference

Teh, Hui Yie, Andreas W. Kempa-Liehr, and Kevin I-Kai Wang. "Sensor data quality: A systematic review." Journal of Big Data 7.1 (2020): 1-49. [here](https://doi.org/10.1186/s40537-020-0285-1)

Sallans, Brian, Dietmar Bruckner, and Gerhard Russ. Statistical model-based sensor diagnostics for automation systems. IFAC Proceedings Volumes 38.2 (2005) [here](https://doi.org/10.3182/20051114-2-MX-3901.00033)

Jäger, Georg, et al. "Assessing neural networks for sensor fault detection." 2014 IEEE international conference on computational intelligence and virtual environments for measurement systems and applications (CIVEMSA). IEEE, 2014. [here](https://doi.org/10.1109/CIVEMSA.2014.6841441)

<!-- Dmitri Tcherniak et. al. 2020, On a method for finding position and orientation of accelerometers from their signals [here](https://www.sciencedirect.com/science/article/pii/S0888327020300480)

Anna Ignácz et. al. 2021. NB-SQI: A novel non-binary signal quality index for continuous blood pressure waveforms [here](https://www.sciencedirect.com/science/article/pii/S1746809421006327) -->

<!---
DEQL    Damage Equivalent Loads        RAW: strainguage,                         SCADA: RPM, wind speed, yaw angle values
OMA     Operational Modal Analysis     RAW: vibration, virbration_samplingrate,  SCADA: RPM,                                    
PSA     Spectral energy analysis       RAW: vibration, virbration_samplingrate,  SCADA: RPM, wind speed, yaw angle values
TRMF    Transmissibility models        RAW: strainguage,                         SCADA: RPM, wind speed, yaw angle values

CMSE    Composite multiscale entropy (CMSE) algorithm
Relational_VAE_GNN  A Continuous Latent Variable Model for Graph Structured Data
Surrogate_GPR   Bayesian Gaussian Process Regression
Damage_RUL  Fatigue damage and remaining useful lifetime algorithms
PCE-SPTARMA PCE-SPTARMA
PRF     Random Forest classifier
[SPTARMA](https://www.researchgate.net/publication/269391599_UKF_Estimation_of_SP-TARMA_Models_for_the_Identification_of_Time-Varying_Structures) Smothness priors Time-dependent Autoregressive model
TSM     Time Series Models
--->
